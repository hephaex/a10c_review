##### Neuromancer : 146 주차 
##### 일시        : 2016.06.04 (146주차 스터디 진행)
##### 모임명      : Neuromancer_ARM
##### 장소        : 토즈 서현점
##### 장소지원    : 공개 소프트웨어 개발자 커뮤니티 지원 프로그램
##### 참여인원    : 2명
============

## 146주차 진도

* ᇂ146차 시작 위치
 - start_kernel        1  ~/init/main.c
 - page_writeback_init   933  ~/init/main.c
 - writeback_set_ratelimit  1899  writeback_set_ratelimit();
 - global_dirty_limits  1851  global_dirty_limits(&background_thresh, &dirty_thresh);

#### 146주차 함수 호출 구조

* calll: start_kernel()
 - page_writeback_init()

* call: page_write_back_init()
 - wirteback_set_ratelimit()

* call: wirteback_set_ratelimit()
 - global_dirty_limits()
 
## main.c::start_kernel()

* calll: start_kernel()
 - page_writeback_init()

```main.c
asmlinkage void __init start_kernel(void)
{
	char * command_line;
	extern const struct kernel_param __start___param[], __stop___param[];
	// ATAG,DTB 정보로 사용

...

    proc_caches_init();
	// sighand_struct, signal_struct, files_struct, fs_struct, mm_struct, vm_area_struct, nsproxy
	// 를 사용하기 위한 kmem_cache 할당자 및 percpu list 초기화 수행

	buffer_init();
	// buffer_head 를 사용하기 위한 kmem_cache 할당자 및 max_buffer_heads 값 초기화 수행

	key_init(); // null funtion
	security_init(); // null funtion
	dbg_late_init(); // null funtion

	// totalram_pages: 총 free된 page 수
	vfs_caches_init(totalram_pages);
	// virtual file system을 위한 names, dentry, inode, filp, mount cache 생성 후
	// file system 을 위한 초기화 수행 및 mount 수행, block, char dev 사용을 위한 초기화 수행

	signals_init();
	// signal을 사용하기 위한 kmem_cache 를 생성

	/* rootfs populating might need page-writeback */
	page_writeback_init();
```

## page_writeback.c::page_writeback_init()

* calll: start_kernel()
 - page_writeback_init()

```page_writeback.c
// ARM10C 20160528
void __init page_writeback_init(void)
{
	writeback_set_ratelimit();
```

## page-writeback.c::writeback_set_ratelimit()

* calll: start_kernel()
 - page_writeback_init()

* call: page_write_back_init()
 - wirteback_set_ratelimit()

```page-writeback.c
// ARM10C 20160528
void writeback_set_ratelimit(void)
{
	unsigned long background_thresh;
	unsigned long dirty_thresh;
	global_dirty_limits(&background_thresh, &dirty_thresh);
```


